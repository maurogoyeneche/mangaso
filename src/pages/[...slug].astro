---
import Layout from "../layouts/Layout.astro";
import Welcome from "../components/Welcome.astro";

const { slug } = Astro.params;
const nombre = slug ? slug[0] : null;

// Si no hay nombre en la URL, usar el de query params como fallback
const urlParams = Astro.url.searchParams;
const nombreFinal = nombre || urlParams.get("nombre") || "Amigo";

const titulo = `¿Me prestás $500? - ${nombreFinal.charAt(0).toUpperCase() + nombreFinal.slice(1).toLowerCase()}`;
---

<Layout title={titulo}>
  <Welcome nombre={nombreFinal} />
</Layout>
